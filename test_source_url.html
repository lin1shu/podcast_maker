<!DOCTYPE html><html><head><title>Source URL Test</title></head><body><h1>Test Source URL</h1><form id="testForm"><div><label for="textInput">Text:</label><textarea id="textInput" rows="5" cols="50">Test text with source URL</textarea></div><div><label for="sourceUrl">Source URL:</label><input type="url" id="sourceUrl" value="https://example.com/test" style="width: 300px;"></div><button type="button" id="submitBtn">Submit</button></form><div id="result" style="margin-top: 20px;"></div>
<script>document.getElementById("submitBtn").addEventListener("click", function() {const text = document.getElementById("textInput").value; const sourceUrl = document.getElementById("sourceUrl").value; console.log("Text:", text); console.log("Source URL:", sourceUrl); document.getElementById("result").textContent = "Submitting: " + text + " | URL: " + sourceUrl; fetch("/process_chunk", {method: "POST", headers: {"Content-Type": "application/json"}, body: JSON.stringify({text: text, voice: "nova", tone: "friendly", is_chinese: false, is_first_chunk: true, source_url: sourceUrl})}).then(response => response.json()).then(data => {console.log("Response:", data); document.getElementById("result").textContent += "
Response: " + JSON.stringify(data);}).catch(error => {console.error("Error:", error); document.getElementById("result").textContent += "
Error: " + error.message;});});</script></body></html>
